if(!LCMS||"object"!=typeof LCMS){var LCMS={}}LCMS.util={__private:{__v:()=>{if(LCMS.config&&LCMS.config.ver){return LCMS.config.ver}return"20241016"}},loading:function(type,index){switch(type){case"close":if(index){layer.close(index)}else if(window.LCMSLOADINGINDEX){layer.close(window.LCMSLOADINGINDEX)}else{layer.closeAll("dialog")}break;default:index=layer.msg('<i class="layui-icon layui-icon-loading-1 layui-anim layui-anim-rotate layui-anim-loop" style="margin-right:10px"></i>加载中',{skin:"layui-layer-msg layui-layer-hui lcms-layer-loading",shade:[0.3,"#fff"],time:"number"==typeof type?type:60000});window.LCMSLOADINGINDEX=index;return index;break}},notify:function(opt){opt=opt||{};if(opt.message){opt.content=opt.message;delete opt.message}if(opt.content){if("object"==typeof opt.content){opt.content=`${opt.content.title}：<br>${opt.content.msg}`}switch(opt.type){case"error":layer.msg(opt.content,{icon:2,anim:6,maxWidth:300,time:2000});break;case"warning":layer.msg(opt.content,{icon:7,maxWidth:300,time:2000});break;case"info":layer.msg(opt.content,{time:2000,maxWidth:300});break;default:layer.msg(opt.content,{icon:1,maxWidth:300,time:2000});break}}},load:function(opt){opt=Object.assign({type:null,src:null,async:true,cache:true,elem:null,loading:false,cors:false,onevent:null,onnext:null,onload:()=>{}},opt||{});if(!opt.src){return}if(opt.elem&&opt.elem.length<=0){return}if("object"==typeof opt.src){let srcs=opt.src,srceach=function(index,callback){if(!srcs[index]){callback("nosrc",opt);return}LCMS.util.load(Object.assign(opt,{src:srcs[index],onnext:()=>{srceach(index+1,callback)}}))};srceach(0,(()=>{opt.onload()}));return}if(opt.onnext&&"function"==typeof opt.onnext){opt.onload=opt.onnext}let src=opt.src.split("?"),mime=src[0].slice(-3);opt.src+=(src[1]?`&`:`?`)+`lcmsver=`+LCMS.util.__private.__v();switch(mime){case"css":opt.type="css";break;case".js":if(!opt.type||"js"==opt.type){opt.type="js"}else{opt.type="esm"}if(-1!=opt.src.search("://")){let uinfo=new URL(opt.src);if(uinfo.origin!=location.origin){opt.cors=true}}break}opt.event=`LCMS.util.load.${btoa(opt.src)}`;if("object"!=typeof LCMS.util.__private.load){LCMS.util.__private.load={list:{}}}if(LCMS.util.__private.load.list[opt.event]){if("dispatched"==LCMS.util.__private.load.list[opt.event]){opt.onload("dispatched",opt)}else{document.addEventListener(opt.event,(()=>{opt.onload("listener",opt)}))}return}else{LCMS.util.__private.load.list[opt.event]="waiting"}opt.onevent=()=>{document.dispatchEvent(new CustomEvent(opt.event));LCMS.util.__private.load.list[opt.event]="dispatched"};switch(opt.type){case"css":$("head").append(`<link rel="stylesheet" href="${opt.src}">`);opt.onload("complete",opt);opt.onevent();break;case"esm":$("body").append(`<script type="module" src="${opt.src}"><\/script>`);opt.onload("complete",opt);opt.onevent();break;case"js":opt.async=false!==opt.async?true:false;LCMS.util.ajax({type:"GET",url:opt.src,contentType:"application/x-www-form-urlencoded",dataType:opt.cors&&!opt.async?"text":"script",headers:{Accept:"application/javascript"},async:opt.async,timeout:0,cache:opt.cache,layer:true,loading:opt.loading?true:false,success:code=>{if(opt.cors&&!opt.async&&"<"!=code.substr(0,1)){$("body").append(`<script type="text/javascript">${code}<\/script>`)}},error:()=>{},complete:()=>{opt.onload("complete",opt);opt.onevent()}});break}},ajax:function(opt,load){if(!opt){return false}opt=Object.assign({type:"GET",data:{},dataType:"json",contentType:"application/x-www-form-urlencoded",processData:true,async:true,cache:false,layer:false,loading:null},opt||{});if(void 0==opt.timeout||""===opt.timeout){opt.timeout=15000}else if(0===opt.timeout||"0"===opt.timeout){opt.timeout=0}else{opt.timeout=1*opt.timeout}let loadindex=null;if(false!==opt.loading&&("POST"==opt.type||opt.loading)){loadindex=LCMS.util.loading()}if("GET"==opt.type&&opt.data){for(const key in opt.data){opt.url+="&"+key+"="+encodeURIComponent(opt.data[key])}opt.data={}}var def=Object.assign({},opt);delete def.layer;delete def.loading;$.ajax(Object.assign(def,{beforeSend:function(xhr){if(opt.headers){for(const key in opt.headers){xhr.setRequestHeader(key,opt.headers[key])}}opt.beforeSend&&opt.beforeSend(xhr)},xhr:function(){var xhr=$.ajaxSettings.xhr();if(opt.progress){xhr.addEventListener("progress",(function(e){opt.progress({type:"download",loaded:e.loaded,total:e.total})}));xhr.upload&&xhr.upload.addEventListener("progress",(function(e){opt.progress({type:"upload",loaded:e.loaded,total:e.total})}))}opt.xhr&&opt.xhr(xhr);return xhr},success:function(result,status,xhr){loadindex&&LCMS.util.loading("close",loadindex);opt.success&&opt.success(result,status,xhr)},error:function(xhr,status,error){loadindex&&LCMS.util.loading("close",loadindex);let msg="数据加载失败";if(xhr&&xhr.responseText){console.error(`Ajax请求失败：${opt.url}\n`+xhr.responseText);if(-1!==xhr.responseText.indexOf("防火墙")){msg="请求被服务器防火墙拦截，如有需要可临时关闭防火墙，操作完后再开启"}}if(opt.error){opt.error(xhr,status,error)}else{opt.success&&opt.success({code:0,msg:msg})}},complete:function(xhr,status){opt.complete&&opt.complete(xhr,status)}}))},EventSource:async function(url,options){options=Object.assign({method:"GET",retry:1000,onopen:async function(response){const contentType=response.headers.get("content-type");if(!(null===contentType||void 0===contentType?void 0:contentType.startsWith("text/event-stream"))){const body=await response.json();throw new Error(`状态码：${response.status}<br>响应：${JSON.stringify(body)}`)}},onmessage:function(){},onclose:function(){},onerror:function(){}},options);var retryTimer,config=Object.assign({},options),getBytes=async function(stream,onChunk){const reader=stream.getReader();let result;while(!(result=await reader.read()).done){onChunk(result.value)}},getLines=function(onLine){let buffer;let position;let fieldLength;let discardTrailingNewline=false;var concat=function(a,b){const res=new Uint8Array(a.length+b.length);res.set(a);res.set(b,a.length);return res};return function onChunk(arr){if(void 0===buffer){buffer=arr;position=0;fieldLength=-1}else{buffer=concat(buffer,arr)}const bufLength=buffer.length;let lineStart=0;while(position<bufLength){if(discardTrailingNewline){if(10===buffer[position]){lineStart=++position}discardTrailingNewline=false}let lineEnd=-1;for(;position<bufLength&&-1===lineEnd;++position){switch(buffer[position]){case 58:if(-1===fieldLength){fieldLength=position-lineStart}break;case 13:discardTrailingNewline=true;case 10:lineEnd=position;break}}if(-1===lineEnd){break}onLine(buffer.subarray(lineStart,lineEnd),fieldLength);lineStart=position;fieldLength=-1}if(lineStart===bufLength){buffer=void 0}else if(0!==lineStart){buffer=buffer.subarray(lineStart);position-=lineStart}}},newMessage=function(){return{data:"",event:"",id:"",retry:void 0}},getMessages=function(onId,onRetry,onMessage){let message=newMessage();const decoder=new TextDecoder;return function onLine(line,fieldLength){if(0===line.length){null===onMessage||void 0===onMessage?void 0:onMessage(message);message=newMessage()}else if(fieldLength>0){const field=decoder.decode(line.subarray(0,fieldLength));const valueOffset=fieldLength+(32===line[fieldLength+1]?2:1);const value=decoder.decode(line.subarray(valueOffset));switch(field){case"data":message.data=message.data?message.data+"\n"+value:value;break;case"event":message.event=value;break;case"id":onId(message.id=value);break;case"retry":const retry=parseInt(value,10);if(!isNaN(retry)){onRetry(message.retry=retry)}break}}}};delete config.retry;delete config.onopen;delete config.onmessage;delete config.onclose;delete config.onerror;try{const response=await fetch(url,config);await options.onopen(response);await getBytes(response.body,getLines(getMessages((id=>{if(id){config.headers["last-event-id"]=id}else{delete config.headers["last-event-id"]}}),(retry=>{options.retry=retry}),options.onmessage)));options.onclose()}catch(error){try{const errback=options.onerror(error);const interval=errback?errback:options.retry;window.clearTimeout(retryTimer);retryTimer=window.setTimeout(create,interval)}catch(innerErr){window.clearTimeout(retryTimer)}}},randStr:function(len,type){len=len||4;switch(type){case"num":case"number":var chars="0123456789";break;case"let":case"letter":chars="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz";break;default:chars="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjklmnpqrstuvwxyz23456789";break}var str="";for(var i=0;i<len;i++){str+=chars.charAt(Math.floor(Math.random()*chars.length))}return str},iframe:function(opt){opt=opt||{};opt=Object.assign({do:"open",id:null,title:" ",area:"",maxmin:true,closeBtn:true,resize:true,scrollbar:true,automax:false,offset:"auto",anim:0,reload:false,_this:self},opt);switch(opt.do){case"close":parent.layer.close(parent.layer.getFrameIndex(window.name));opt.reload&&parent.location.reload();break;case"max":parent.layer.full(parent.layer.getFrameIndex(window.name));break;default:opt.area=opt.area||["900px","650px"];var width=$(opt._this).width(),height=$(opt._this).height();if("object"==typeof opt.area){if(opt.area[0].replace("px","")>width){opt.area[0]="100%"}if(opt.area[1].replace("px","")>height){opt.area[1]="100%"}}else if(opt.area.replace("px","")>width){opt.area="100%"}var def=Object.assign({},opt);delete def._this;delete def.url;delete def.automax;return opt._this.layer.open(Object.assign(def,{id:opt.id?opt.id:"LCMSLAYERIFRAME"+LCMS.util.randStr(4),type:opt.type?opt.type:-1!==opt.url.indexOf("<div")?1:2,content:opt.url?opt.url:opt.content,shade:"object"==typeof opt.shade?opt.shade:opt.shade>0?0.3:0,success:function(layero,index,that){opt.automax&&opt._this.layer.full(index);opt._this.layer.setTop(layero);opt.success&&opt.success(layero,index,that)}}));break}},tpl:function(tpl,data){if("object"===typeof tpl){tpl=$(tpl).html()}if(!tpl){return""}for(var key in data){var reg=new RegExp("{"+key+"}","g");data[key]=data[key]?data[key]:"";tpl=tpl.replace(reg,data[key])}return tpl},tplx:function(com,data){switch(com){case"change:dom":Alpine.mutateDom((()=>{data()}));break;default:com=com.split(":");if(!com[1]){com=["data",com[0]]}LCMS.util.load({src:`/public/static/plugin/alpine.min.js`,onload:step=>{switch(com[0]){case"data":if(data&&data.mounted){data.init=data.mounted;delete data.mounted}let dtpl=$(`[x-data="${com[1]}"]`),jtpl=$(`script[tplx="${com[1]}"]`),htpl=$(`#${com[1]}`);if(dtpl.length<=0&&jtpl.length<=0&&htpl.length<=0){return}Alpine.data(com[1],(()=>data));if(jtpl.length>0){let html=jtpl.html(),dtset=jtpl.data(),dthtml="";dtset=dtset||{};for(const key in dtset){if("object"==typeof dtset[key]){dtset[key]=JSON.stringify(dtset[key]).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}dthtml+=` data-${key}="${dtset[key]}"`}html=html.replace(/^[ \t\n\r\u200B]+|[ \t\n\r\u200B]+$/g,"");if($(html).length>1){html=`<section x-data="${com[1]}"${dthtml}>${html}</section>`}else{html=html.replace(/>/,` x-data="${com[1]}"${dthtml}>`)}Alpine.mutateDom((()=>{jtpl.replaceWith(html)}))}if(dtpl.length<=0&&htpl.length>0){Alpine.mutateDom((()=>{htpl.attr("x-data",com[1])}))}if("dispatched"==step){Alpine.initTree($(`[x-data="${com[1]}"]`)[0])}break;case"store":Alpine.store(com[1],data);break;case"bind":Alpine.bind(com[1],(()=>data));break}}});break}},sleep:function(time){var start=(new Date).getTime();while((new Date).getTime()-start<time){continue}},getQuery:function(name,url){url=url?new URL(url).search:location.search;var paras=new URLSearchParams(url);return paras.get(name)},changeUrl:function(url,arg,arg_val){var pattern=arg+"=([^&]*)";var replaceText=arg+"="+arg_val;if(url.match(pattern)){var reg=new RegExp("("+arg+"=)([^&]*)","gi");return url.replace(reg,replaceText)}else if(url.match("[?]")){return url+"&"+replaceText}else{return url+"?"+replaceText}},getDate:function(fmt,date){if(date){if("number"==typeof date){date=new Date(1000*date)}else if("string"==typeof date){date=new Date(date.replace(" ","T"))}}else{date=new Date}let m=date.getMonth()+1,d=date.getDate(),H=date.getHours(),i=date.getMinutes(),s=date.getSeconds();m=m<10?"0"+m:m.toString();d=d<10?"0"+d:d.toString();H=H<10?"0"+H:H.toString();i=i<10?"0"+i:i.toString();s=s<10?"0"+s:s.toString();let ret,opt={"Y+":date.getFullYear().toString(),"m+":m,"d+":d,"H+":H,"i+":i,"s+":s};for(let k in opt){ret=new RegExp("("+k+")").exec(fmt);if(ret){fmt=fmt.replace(ret[1],1==ret[1].length?opt[k]:opt[k].padStart(ret[1].length,"0"))}}return fmt},play:function(opt){opt=Object.assign({type:"audio",src:"",loop:0},opt||{});if(opt.src){switch(opt.type){case"audio":var audio=new Audio;audio.src=opt.src;audio.loop=1==opt.loop?1:0;audio.preload="meta";audio.play();return audio;break}}},inUa:function(ua){ua=ua?ua:"micromessenger";if(-1!=window.navigator.userAgent.toLowerCase().indexOf(ua.toLowerCase())){return true}else{return false}},speak:function(text,lang){if("speechSynthesis"in window&&"function"==typeof SpeechSynthesisUtterance){let SSU=new SpeechSynthesisUtterance;SSU.text=text;SSU.lang=lang?lang:"zh-CN";SSU.pitch=1;SSU.rate=1;SSU.volume=100;window.speechSynthesis.speak(SSU)}},copy:function(text,tips){function copy(){var textString=text.toString(),element=document.createElement("input"),selectText=function(textbox,startIndex,stopIndex){if(textbox.createTextRange){const range=textbox.createTextRange();range.collapse(true);range.moveStart("character",startIndex);range.moveEnd("character",stopIndex-startIndex);range.select()}else{textbox.setSelectionRange(startIndex,stopIndex);textbox.focus()}};element.id="lcms-copy-input";element.readOnly="readOnly";element.style.position="fixed";element.style.left="-1000px";element.style.bottom="0";element.style.zIndex="-1000";document.body.appendChild(element);element.value=textString;selectText(element,0,textString.length);try{document.execCommand("copy");element.remove();false!==tips&&LCMS.util.notify({type:"success",content:tips?tips:"已复制到剪贴板"})}catch(error){LCMS.util.notify({type:"error",content:"复制失败"})}}if("object"==typeof navigator.clipboard){navigator.clipboard.writeText(text).then((function(){false!==tips&&LCMS.util.notify({type:"success",content:tips?tips:"已复制到剪贴板"})})).catch((()=>{copy()}))}else{copy()}},lazyImg:function(cname,options){setTimeout((function(){cname=cname||"lazyload";options=options||{};options=Object.assign({datasrc:"data-src"},options);let imgs=$("img."+cname);if(imgs.length>0){imgs.each((function(){if(!options.datasrc){return}let _this=$(this),src=_this.attr("src"),datasrc=_this.attr(options.datasrc),place="/public/static/images/pixel.png",onerror=function(img){_this.fadeOut(0);_this.attr("src","/public/static/images/pixel.png").addClass(cname+"-nopic").removeClass(cname);_this.fadeIn(500);options.error&&options.error(_this,img||null)};if(datasrc&&!src){_this.attr("src",place);_this.removeAttr(options.datasrc);setTimeout((function(){let img=new Image;img.src=datasrc;img.onload=function(){_this.fadeOut(0);_this.removeClass(cname).attr("src",datasrc);_this.fadeIn(500);options.success&&options.success(_this,img)};img.onerror=function(){onerror(img)}}),10)}else if(!datasrc&&!src){onerror()}}))}}),10)},getFun:function(fname,debug){if(fname){try{var func=new Function("return "+fname)();if("function"==typeof func){return func}}catch(err){debug&&console.warn(fname+"方法不存在")}}return function(){}},crypto:async function(type,options){if(options){await new Promise((resolve=>{switch(type){case"rsa.encode":LCMS.util.load({src:`/public/static/plugin/jsencrypt.min.js`,onload:()=>{resolve()}});break;default:LCMS.util.load({src:`/public/static/plugin/crypto-js.min.js`,onload:()=>{resolve()}});break}}));switch(type){case"encode":case"decode":if(!options.text||!options.key){return false}var key=iv=CryptoJS.enc.Utf8.parse(CryptoJS.MD5(options.key).toString());break}switch(type){case"encode":return CryptoJS.AES.encrypt(options.text,key,{iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString();break;case"decode":return CryptoJS.enc.Utf8.stringify(CryptoJS.AES.decrypt(options.text,key,{iv:iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}));break;case"md5":return CryptoJS.MD5(options).toString();break;case"hash":return CryptoJS.SHA1(options).toString();break;case"rsa.encode":let jsencrypt=new JSEncrypt;jsencrypt.setKey(options.key);return jsencrypt.encrypt(options.data);break}}},fullScreen:function(type,elem){switch(type){case"open":elem=elem?$(elem)[0]:document.documentElement;if(elem.requestFullscreen){elem.requestFullscreen()}else if(elem.mozRequestFullScreen){elem.mozRequestFullScreen()}else if(elem.webkitRequestFullScreen){elem.webkitRequestFullScreen()}else if(elem.msRequestFullscreen){elem.msRequestFullscreen()}break;case"close":if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}break;case"elem":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||null;break;case"check":return!!LCMS.util.fullScreen("elem");break;default:LCMS.util.fullScreen("check")?LCMS.util.fullScreen("close"):LCMS.util.fullScreen("open",type);break}}};var LJS={_lazydo:function(callback,t){setTimeout((function(){callback&&callback()}),t?t:1000)},_lazyload:async function(imgs){LCMS.util.load({src:`/public/static/plugin/lazyload.min.js`,onload:()=>{imgs=imgs?imgs:$("img.lazyload");if(imgs.length>0){$("head").append(`<style type="text/css">img.lazyload{min-width:20px;min-height:20px;max-height:300px;background:url(/public/static/images/loading.gif) no-repeat center center / 20px 20px!important;transition:none!important}img.lazyload-nopic{min-width:50px;min-height:50px;max-height:300px;background:url(/public/static/images/nopic.png) no-repeat center center / 50px 50px!important;transition:none!important}</style>`);imgs.lazyload({data_attribute:"src",effect:"fadeIn",threshold:200,failure_limit:10,skip_invisible:false})}}})},_lazylunbo:function(cname){$("head").append(`<style type="text/css">img.lazylunbo{min-width:20px;min-height:20px;max-height:300px;background:url(/public/static/images/loading.gif) no-repeat center center / 20px 20px!important;transition:none!important}img.lazylunbo-nopic{min-width:50px;min-height:50px;max-height:300px;background:url(/public/static/images/nopic.png) no-repeat center center / 50px 50px!important;transition:none!important}</style>`);LCMS.util.lazyImg(cname?cname:"lazylunbo")}};!(function(a,b){"use strict";var d,e,j,k,l,m,n,o,p,c=a.layui&&layui.define,f={},g=/\{(\w+)\}/g,h={getPath:(function(){return window.location.origin+"/public/static/layer/"})(),config:{removeFocus:!0,lang:{confirm:"确定",cancel:"取消",defaultTitle:"信息",prompt:{InputLengthPrompt:"最多输入 {length} 个字符"},photos:{noData:"没有图片",tools:{rotate:"旋转",scaleX:"水平变换",zoomIn:"放大",zoomOut:"缩小",reset:"还原",close:"关闭"},viewPicture:"查看原图",urlError:{prompt:"当前图片地址异常，\n是否继续查看下一张？",confirm:"下一张",cancel:"不看了"}}}},end:{},beforeEnd:{},events:{resize:{}},minStackIndex:0,minStackArr:[],type:["dialog","page","iframe","loading","tips"],getStyle:function(b,c){var d=b.currentStyle?b.currentStyle:a.getComputedStyle(b,null);return d[d.getPropertyValue?"getPropertyValue":"getAttribute"](c)},link:function(b,c,d){var e,f,g,i,k,l;j.path&&(e=document.getElementsByTagName("head")[0],f=document.createElement("link"),"string"==typeof c&&(d=c),g=(d||b).replace(/\.|\//g,""),i="layuicss-"+g,k="creating",l=0,f.rel="stylesheet",f.href=j.path+b,f.id=i,document.getElementById(i)||e.appendChild(f),"function"==typeof c&&(function m(b){var d=100,e=document.getElementById(i);return++l>1e4/d?a.console&&console.error(g+".css: Invalid"):(1989===parseInt(h.getStyle(e,"width"))?(b===k&&e.removeAttribute("lay-status"),e.getAttribute("lay-status")===k?setTimeout(m,d):c()):(e.setAttribute("lay-status",k),setTimeout((function(){m(k)}),d)),void 0)})())}},i=function(a,c,d){var g,e=c.replace(/\[(\d+)\]/g,".$1").split("."),f=a;for(g=0;g<e.length;g++){if(f=f&&f[e[g]],null===f||f===b){return d}}return f};f.$t=function(a){var c,d;return a=a.replace(/^layer\./,""),c=i(h.config.lang,a,a),"string"==typeof c&&arguments.length>1?(d=arguments[1],c.replace(g,(function(a,c){return d[c]!==b?d[c]:a}))):c},j={v:"2.13.0",ie:(function(){var b=navigator.userAgent.toLowerCase();return a.ActiveXObject||"ActiveXObject"in a?(b.match(/msie\s(\d+)/)||[])[1]||"11":!1})(),index:a.layer&&a.layer.v?1e5:0,path:h.getPath,config:function(a){return a=a||{},j.cache=h.config=d.extend({},h.config,a),j.path=h.config.path||j.path,"string"==typeof a.extend&&(a.extend=[a.extend]),h.config.path&&j.ready(),a.extend?(c?layui.addcss("modules/layer/"+a.extend):h.link("css/"+a.extend),this):this},ready:function(a){var b="layer",d="",e=(c?"modules/":"css/")+"layer.css?v="+j.v+d;return c?layui["layui.all"]?"function"==typeof a&&a():layui.addcss(e,a,b):h.link(e,a,b),this},alert:function(a,b,c){var e="function"==typeof b;return e&&(c=b),j.open(d.extend({content:a,yes:c},e?{}:b))},confirm:function(a,b,c,e){var g="function"==typeof b;return g&&(e=c,c=b),j.open(d.extend({content:a,btn:[f.$t("layer.confirm"),f.$t("layer.cancel")],yes:c,btn2:e},g?{}:b))},msg:function(a,c,e){var f="function"==typeof c,g=h.config.skin,i=(g?g+" "+g+"-msg":"")||"layui-layer-msg",k=l.anim.length-1;return f&&(e=c),j.open(d.extend({content:a,time:3e3,shade:!1,skin:i,title:!1,closeBtn:!1,btn:!1,resize:!1,end:e,removeFocus:!1},f&&!h.config.skin?{skin:i+" layui-layer-hui",anim:k}:(function(){return c=c||{},(-1===c.icon||c.icon===b&&!h.config.skin)&&(c.skin=i+" "+(c.skin||"layui-layer-hui")),c})()))},load:function(a,b){return j.open(d.extend({type:3,icon:a||0,resize:!1,shade:0.01,removeFocus:!1},b))},tips:function(a,b,c){return j.open(d.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:260,removeFocus:!1},c))}},k=function(a){var b=this,c=function(){b.creat()};h.config.title=f.$t("layer.defaultTitle"),b.index=++j.index,b.config.maxWidth=d(e).width()-30,b.config=d.extend({},b.config,h.config,a),document.body?c():setTimeout((function(){c()}),30)},k.pt=k.prototype,l=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"],l.anim={0:"layer-anim-00",1:"layer-anim-01",2:"layer-anim-02",3:"layer-anim-03",4:"layer-anim-04",5:"layer-anim-05",6:"layer-anim-06",slideDown:"layer-anim-slide-down",slideLeft:"layer-anim-slide-left",slideUp:"layer-anim-slide-up",slideRight:"layer-anim-slide-right"},l.SHADE="layui-layer-shade",l.MOVE="layui-layer-move",m="LAYUI-LAYER-SHADE-KEY",n="LAYUI_LAYER_CONTENT_RECORD_HEIGHT",k.pt.config={type:0,shade:0.3,fixed:!0,move:l[1],title:f.$t("layer.defaultTitle"),offset:"auto",area:"auto",closeBtn:1,icon:-1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,minStack:!0,moveType:1,resize:!0,scrollbar:!0,tips:2},k.pt.vessel=function(a,b){var c=this,e=c.index,f=c.config,g=f.zIndex+e,i="object"==typeof f.title,j=f.maxmin&&(1===f.type||2===f.type),k=f.title?'<div class="layui-layer-title" style="'+(i?f.title[1]:"")+'">'+(i?f.title[0]:f.title)+"</div>":"";return f.zIndex=g,b([f.shade?'<div class="'+l.SHADE+'" id="'+l.SHADE+e+'" times="'+e+'" style="'+"z-index:"+(g-1)+"; "+'"></div>':"",'<div class="'+l[0]+" layui-layer-"+h.type[f.type]+(0!=f.type&&2!=f.type||f.shade?"":" layui-layer-border")+" "+(f.skin||"")+'" id="'+l[0]+e+'" type="'+h.type[f.type]+'" times="'+e+'" showtime="'+f.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+g+"; width:"+f.area[0]+";height:"+f.area[1]+";position:"+(f.fixed?"fixed;":"absolute;")+'">'+(a&&2!=f.type?"":k)+"<div"+(f.id?' id="'+f.id+'"':"")+' class="layui-layer-content'+(0==f.type&&-1!==f.icon?" layui-layer-padding":"")+(3==f.type?" layui-layer-loading"+f.icon:"")+'">'+(function(){var b,d,a=["layui-icon-tips","layui-icon-success","layui-icon-error","layui-icon-question","layui-icon-lock","layui-icon-face-cry","layui-icon-face-smile"],c="layui-anim layui-anim-rotate layui-anim-loop";return 0==f.type&&-1!==f.icon?(16==f.icon&&(b="layui-icon layui-icon-loading "+c),'<i class="layui-layer-face layui-icon '+(b||a[f.icon]||a[0])+'"></i>'):3==f.type?(d=["layui-icon-loading","layui-icon-loading-1"],2==f.icon?'<div class="layui-layer-loading-2 '+c+'"></div>':'<i class="layui-layer-loading-icon layui-icon '+(d[f.icon]||d[0])+" "+c+'"></i>'):""})()+(1==f.type&&a?"":f.content||"")+"</div>"+'<div class="layui-layer-setwin">'+(function(){var a=[];return j&&(a.push('<span class="layui-layer-min"></span>'),a.push('<span class="layui-layer-max"></span>')),f.closeBtn&&a.push('<span class="layui-icon layui-icon-close '+[l[7],l[7]+(f.title?f.closeBtn:4==f.type?"1":"2")].join(" ")+'"></span>'),a.join("")})()+"</div>"+(f.btn?(function(){var b,c,a="";for("string"==typeof f.btn&&(f.btn=[f.btn]),b=0,c=f.btn.length;c>b;b++){a+='<a class="'+l[6]+b+'">'+f.btn[b]+"</a>"}return'<div class="'+(function(){var a=[l[6]];return f.btnAlign&&a.push(l[6]+"-"+f.btnAlign),a.join(" ")})()+'">'+a+"</div>"})():"")+(f.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],k,d('<div class="'+l.MOVE+'" id="'+l.MOVE+'"></div>')),c},k.pt.creat=function(){var a=this,b=a.config,c=a.index,i=b.content,k="object"==typeof i,n=d("body"),o=function(a){if(b.shift&&(b.anim=b.shift),l.anim[b.anim]){var c="layer-anim "+l.anim[b.anim];a.addClass(c).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){d(this).removeClass(c)}))}};if(b.id&&d("."+l[0]).find("#"+b.id)[0]){return(function(){var a=d("#"+b.id).closest("."+l[0]),c=a.attr("times"),e=a.data("config"),f=d("#"+l.SHADE+c),g=a.data("maxminStatus")||{};"min"===g?j.restore(c):e.hideOnClose&&(f.show(),a.show(),o(a),setTimeout((function(){f.css({opacity:f.data(m)})}),10))})()}switch(b.removeFocus&&document.activeElement&&document.activeElement.blur(),"string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),6==j.ie&&(b.fixed=!1),b.type){case 0:b.btn="btn"in b?b.btn:f.$t("layer.confirm"),j.closeAll("dialog");break;case 2:i=b.content=k?b.content:[b.content||"","auto"],b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+l[4]+c+'" name="'+l[4]+c+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:delete b.title,delete b.closeBtn,-1===b.icon&&0===b.icon,j.closeAll("loading");break;case 4:k||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',delete b.title,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||j.closeAll("tips")}a.vessel(k,(function(e,f,g){n.append(e[0]),k?(function(){2==b.type||4==b.type?(function(){d("body").append(e[1])})():(function(){i.parents("."+l[0])[0]||(i.data("display",i.css("display")).show().addClass("layui-layer-wrap").wrap(e[1]),d("#"+l[0]+c).find("."+l[5]).before(f))})()})():n.append(e[1]),d("#"+l.MOVE)[0]||n.append(h.moveElem=g),a.layero=d("#"+l[0]+c),a.shadeo=d("#"+l.SHADE+c),b.scrollbar||h.setScrollbar(c)})).auto(c),a.shadeo.css({"background-color":b.shade[1]||"#000",opacity:b.shade[0]||b.shade,transition:b.shade[2]||""}),a.shadeo.data(m,b.shade[0]||b.shade),2==b.type&&6==j.ie&&a.layero.find("iframe").attr("src",i[0]),4==b.type?a.tips():(function(){a.offset(),parseInt(h.getStyle(document.getElementById(l.MOVE),"z-index"))||(function(){a.layero.css("visibility","hidden"),j.ready((function(){a.offset(),a.layero.css("visibility","visible")}))})()})(),b.fixed&&(h.events.resize[a.index]||(h.events.resize[a.index]=function(){a.resize()},e.on("resize",h.events.resize[a.index]))),a.layero.data("config",b),b.time<=0||setTimeout((function(){j.close(a.index)}),b.time),a.move().callback(),o(a.layero)},k.pt.resize=function(){var a=this,b=a.config;a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(a.index),4==b.type&&a.tips()},k.pt.auto=function(a){var g,h,i,k,b=this,c=b.config,f=d("#"+l[0]+a);switch((""===c.area[0]||"auto"===c.area[0])&&c.maxWidth>0&&(j.ie&&j.ie<8&&c.btn&&f.width(f.innerWidth()),f.outerWidth()>c.maxWidth&&f.width(c.maxWidth)),g=[f.innerWidth(),f.innerHeight()],h=f.find(l[1]).outerHeight()||0,i=f.find("."+l[6]).outerHeight()||0,k=function(a){a=f.find(a),a.height(g[1]-h-i-2*(0|parseFloat(a.css("padding-top"))))},c.type){case 2:k("iframe");break;default:""===c.area[1]||"auto"===c.area[1]?c.maxHeight>0&&f.outerHeight()>c.maxHeight?(g[1]=c.maxHeight,k("."+l[5])):c.fixed&&g[1]>=e.height()&&(g[1]=e.height(),k("."+l[5])):k("."+l[5])}return b},k.pt.offset=function(){var a=this,b=a.config,c=a.layero,d=h.updatePosition(c,b);a.offsetTop=d.offsetTop,a.offsetLeft=d.offsetLeft},k.pt.tips=function(){var h,i,j,a=this,b=a.config,c=a.layero,f=[c.outerWidth(),c.outerHeight()],g=d(b.follow);g[0]||(g=d("body")),h={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},i=c.find(".layui-layer-TipsG"),j=b.tips[0],b.tips[1]||i.remove(),h.autoLeft=function(){h.left+f[0]-e.width()>0?(h.tipLeft=h.left+h.width-f[0],i.css({right:12,left:"auto"})):(h.tipLeft=h.left-(0.75*h.width<21?21-0.5*h.width:0),h.tipLeft=Math.max(h.tipLeft,0))},h.where=[function(){h.autoLeft(),h.tipTop=h.top-f[1]-10,i.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left+h.width+10,h.tipTop=h.top-(0.75*h.height<21?21-0.5*h.height:0),h.tipTop=Math.max(h.tipTop,0),i.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){h.autoLeft(),h.tipTop=h.top+h.height+10,i.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left-f[0]-10,h.tipTop=h.top-(0.75*h.height<21?21-0.5*h.height:0),h.tipTop=Math.max(h.tipTop,0),i.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],h.where[j-1](),1===j?h.top-(e.scrollTop()+f[1]+16)<0&&h.where[2]():2===j?e.width()-(h.left+h.width+f[0]+16)>0||h.where[3]():3===j?h.top-e.scrollTop()+h.height+f[1]+16-e.height()>0&&h.where[0]():4===j&&f[0]+16-h.left>0&&h.where[1](),c.find("."+l[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),c.css({left:h.tipLeft-(b.fixed?e.scrollLeft():0),top:h.tipTop-(b.fixed?e.scrollTop():0)})},k.pt.move=function(){var a=this,b=a.config,c=d(document),f=a.layero,g=["LAY_MOVE_DICT","LAY_RESIZE_DICT"],i=f.find(b.move),k=f.find(".layui-layer-resize");return b.move&&i.css("cursor","move"),i.on("mousedown",(function(a){var c,e;a.button||(c=d(this),e={},b.move&&(e.layero=f,e.config=b,e.offset=[a.clientX-parseFloat(f.css("left")),a.clientY-parseFloat(f.css("top"))],c.data(g[0],e),h.eventMoveElem=c,h.moveElem.css("cursor","move").show()),a.preventDefault())})),k.on("mousedown",(function(c){var e=d(this),i={};b.resize&&(i.layero=f,i.config=b,i.offset=[c.clientX,c.clientY],i.index=a.index,i.area=[f.outerWidth(),f.outerHeight()],e.data(g[1],i),h.eventResizeElem=e,h.moveElem.css("cursor","se-resize").show()),c.preventDefault()})),h.docEvent?a:(c.on("mousemove",(function(a){var b,c,d,f,i,k,l,m;h.eventMoveElem&&(b=h.eventMoveElem.data(g[0])||{},c=b.layero,d=b.config,f=a.clientX-b.offset[0],i=a.clientY-b.offset[1],k="fixed"===c.css("position"),a.preventDefault(),b.stX=k?0:e.scrollLeft(),b.stY=k?0:e.scrollTop(),d.moveOut||(l=e.width()-c.outerWidth()+b.stX,m=e.height()-c.outerHeight()+b.stY,f<b.stX&&(f=b.stX),f>l&&(f=l),i<b.stY&&(i=b.stY),i>m&&(i=m)),c.css({left:f,top:i})),h.eventResizeElem&&(b=h.eventResizeElem.data(g[1])||{},d=b.config,f=a.clientX-b.offset[0],i=a.clientY-b.offset[1],a.preventDefault(),j.style(b.index,{width:b.area[0]+f,height:b.area[1]+i}),d.resizing&&d.resizing(b.layero))})).on("mouseup",(function(){var b,c;h.eventMoveElem&&(b=h.eventMoveElem.data(g[0])||{},c=b.config,h.eventMoveElem.removeData(g[0]),delete h.eventMoveElem,h.moveElem.hide(),c.moveEnd&&c.moveEnd(b.layero)),h.eventResizeElem&&(h.eventResizeElem.removeData(g[1]),delete h.eventResizeElem,h.moveElem.hide())})),h.docEvent=!0,a)},k.pt.btnLoading=function(a,b){if(b){var c='<i class="layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>';if(a.find(".layui-layer-btn-loading-icon")[0]){return}a.addClass("layui-layer-btn-is-loading").attr({disabled:""}).prepend(c)}else{a.removeClass("layui-layer-btn-is-loading").removeAttr("disabled").find(".layui-layer-btn-loading-icon").remove()}},k.pt.callback=function(){function g(){var a=f.cancel&&f.cancel(c.index,e,c);!1===a||j.close(c.index)}var c=this,e=c.layero,f=c.config;c.openLayer(),f.success&&(2==f.type?e.find("iframe").on("load",(function(){f.success(e,c.index,c)})):f.success(e,c.index,c)),6==j.ie&&c.IE6(e),e.find("."+l[6]).children("a").on("click",(function(){var k,l,g=d(this),i=g.index();g.attr("disabled")||(f.btnAsync?(k=0===i?f.yes||f["btn1"]:f["btn"+(i+1)],c.loading=function(a){c.btnLoading(g,a)},k?h.promiseLikeResolve(k.call(f,c.index,e,c)).then((function(a){!1!==a&&j.close(c.index)}),(function(c){c!==b&&a.console&&a.console.error("layer error hint: "+c)})):j.close(c.index)):0===i?f.yes?f.yes(c.index,e,c):f["btn1"]?f["btn1"](c.index,e,c):j.close(c.index):(l=f["btn"+(i+1)]&&f["btn"+(i+1)](c.index,e,c),!1===l||j.close(c.index)))})),e.find("."+l[7]).on("click",g),f.shadeClose&&c.shadeo.on("click",(function(){j.close(c.index)})),e.find(".layui-layer-min").on("click",(function(){var a=f.min&&f.min(e,c.index,c);!1===a||j.min(c.index,f)})),e.find(".layui-layer-max").on("click",(function(){d(this).hasClass("layui-layer-maxmin")?(j.restore(c.index),f.restore&&f.restore(e,c.index,c)):(j.full(c.index,f),setTimeout((function(){f.full&&f.full(e,c.index,c)}),100))})),f.end&&(h.end[c.index]=f.end),f.beforeEnd&&(h.beforeEnd[c.index]=d.proxy(f.beforeEnd,f,e,c.index,c))},h.reselect=function(){d.each(d("select"),(function(){var c=d(this);c.parents("."+l[0])[0]||1==c.attr("layer")&&d("."+l[0]).length<1&&c.removeAttr("layer").show(),c=null}))},k.pt.IE6=function(){d("select").each((function(){var c=d(this);c.parents("."+l[0])[0]||"none"===c.css("display")||c.attr({layer:"1"}).hide(),c=null}))},k.pt.openLayer=function(){var a=this;j.zIndex=a.config.zIndex,j.setTop=function(a){var b=function(){j.zIndex++,a.css("z-index",j.zIndex+1)};return j.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),j.zIndex}},h.record=function(b){var c,d,e,f;return b[0]?(c=b.attr("type"),d=b.find(".layui-layer-content"),e=c===h.type[2]?d.children("iframe"):d,f=[b[0].style.width||h.getStyle(b[0],"width"),b[0].style.height||h.getStyle(b[0],"height"),b.position().top,b.position().left+parseFloat(b.css("margin-left"))],b.find(".layui-layer-max").addClass("layui-layer-maxmin"),b.attr({area:f}),d.data(n,h.getStyle(e[0],"height")),void 0):a.console&&console.error("index error")},h.setScrollbar=function(){l.html.css("overflow","hidden")},h.restScrollbar=function(a){if(l.html.css("overflow")){var b=d("."+l[0]).filter((function(){var b=d(this),c=b.data("config")||{};return!1===c.scrollbar&&"min"!==b.data("maxminStatus")&&b.attr("times")!==String(a)}));0===b.length&&l.html.css("overflow","")}},h.promiseLikeResolve=function(a){var b=d.Deferred();return a&&"function"==typeof a.then?a.then(b.resolve,b.reject):b.resolve(a),b.promise()},h.updatePosition=function(a,b){var c=[a.outerWidth(),a.outerHeight()],d={offsetTop:(e.height()-c[1])/2,offsetLeft:(e.width()-c[0])/2};return"object"==typeof b.offset?(d.offsetTop=b.offset[0],d.offsetLeft=b.offset[1]||d.offsetLeft):"auto"!==b.offset&&("t"===b.offset?d.offsetTop=0:"r"===b.offset?d.offsetLeft=e.width()-c[0]:"b"===b.offset?d.offsetTop=e.height()-c[1]:"l"===b.offset?d.offsetLeft=0:"lt"===b.offset?(d.offsetTop=0,d.offsetLeft=0):"lb"===b.offset?(d.offsetTop=e.height()-c[1],d.offsetLeft=0):"rt"===b.offset?(d.offsetTop=0,d.offsetLeft=e.width()-c[0]):"rb"===b.offset?(d.offsetTop=e.height()-c[1],d.offsetLeft=e.width()-c[0]):d.offsetTop=b.offset),b.fixed||(d.offsetTop=/%$/.test(d.offsetTop)?e.height()*parseFloat(d.offsetTop)/100:parseFloat(d.offsetTop),d.offsetLeft=/%$/.test(d.offsetLeft)?e.width()*parseFloat(d.offsetLeft)/100:parseFloat(d.offsetLeft),d.offsetTop+=e.scrollTop(),d.offsetLeft+=e.scrollLeft()),"min"===a.data("maxminStatus")&&(d.offsetTop=e.height()-(a.find(l[1]).outerHeight()||0),d.offsetLeft=a.css("left")),a.css({top:d.offsetTop,left:d.offsetLeft}),d},a.layer=j,j.getChildFrame=function(a,b){return b=b||d("."+l[4]).attr("times"),d("#"+l[0]+b).find("iframe").contents().find(a)},j.getFrameIndex=function(a){return a?d("#"+a).parents("."+l[4]).attr("times"):void 0},j.iframeAuto=function(a){var b,c,f,g,i,k;a&&(b=d("#"+l[0]+a),c=b.data("config"),f=j.getChildFrame("html",a).outerHeight(),g=b.find(l[1]).outerHeight()||0,i=b.find("."+l[6]).outerHeight()||0,k="maxHeight"in c?c.maxHeight:e.height(),k&&(f=Math.min(f,k-g-i)),b.css({height:f+g+i}),b.find("iframe").css({height:f}),h.updatePosition(b,c))},j.iframeSrc=function(a,b){d("#"+l[0]+a).find("iframe").attr("src",b)},j.style=function(a,b,c){var e=d("#"+l[0]+a),f=e.find(".layui-layer-content"),g=e.attr("type"),i=e.find(l[1]).outerHeight()||0,j=e.find("."+l[6]).outerHeight()||0;e.attr("minLeft"),g!==h.type[3]&&g!==h.type[4]&&(c||(parseFloat(b.width)<=260&&(b.width=260),parseFloat(b.height)-i-j<=64&&(b.height=64+i+j)),e.css(b),j=e.find("."+l[6]).outerHeight()||0,g===h.type[2]?e.find("iframe").css({height:("number"==typeof b.height?b.height:e.height())-i-j}):f.css({height:("number"==typeof b.height?b.height:e.height())-i-j-parseFloat(f.css("padding-top"))-parseFloat(f.css("padding-bottom"))}))},j.min=function(a,b){var g,i,k,m,n,o,p,q,r,c=d("#"+l[0]+a),f=c.data("maxminStatus");"min"!==f&&("max"===f&&j.restore(a),c.data("maxminStatus","min"),b=b||c.data("config")||{},g=d("#"+l.SHADE+a),i=c.find(".layui-layer-min"),k=c.find(l[1]).outerHeight()||0,m=c.attr("minLeft"),n="string"==typeof m,o=n?m:181*h.minStackIndex+"px",p=c.css("position"),q=180,r={width:q,height:k,position:"fixed",overflow:"hidden"},h.record(c),h.minStackArr.length>0&&(o=h.minStackArr[0],h.minStackArr.shift()),parseFloat(o)+q>e.width()&&(o=e.width()-q-(function(){return h.minStackArr.edgeIndex=h.minStackArr.edgeIndex||0,h.minStackArr.edgeIndex+=3})(),0>o&&(o=0)),b.minStack&&(r.left=o,r.top=e.height()-k,n||h.minStackIndex++,c.attr("minLeft",o)),c.attr("position",p),j.style(a,r,!0),i.hide(),"page"===c.attr("type")&&c.find(l[4]).hide(),h.restScrollbar(a),g.hide())},j.restore=function(a){var o,c=d("#"+l[0]+a),e=d("#"+l.SHADE+a),f=c.find(".layui-layer-content"),g=c.attr("area").split(","),i=c.attr("type"),k=c.data("config")||{},m=f.data(n);c.removeData("maxminStatus"),j.style(a,{width:g[0],height:g[1],top:parseFloat(g[2]),left:parseFloat(g[3]),position:c.attr("position"),overflow:"visible"},!0),c.find(".layui-layer-max").removeClass("layui-layer-maxmin"),c.find(".layui-layer-min").show(),"page"===i&&c.find(l[4]).show(),k.scrollbar?h.restScrollbar(a):h.setScrollbar(a),m!==b&&(f.removeData(n),o=i===h.type[2]?f.children("iframe"):f,o.css({height:m})),e.show()},j.full=function(a){var b=d("#"+l[0]+a),c=b.data("maxminStatus");"max"!==c&&("min"===c&&j.restore(a),b.data("maxminStatus","max"),h.record(b),h.setScrollbar(a),setTimeout((function(){var c="fixed"===b.css("position");j.style(a,{top:c?0:e.scrollTop(),left:c?0:e.scrollLeft(),width:"100%",height:"100%"},!0),b.find(".layui-layer-min").hide()}),100))},j.title=function(a,b){var c=d("#"+l[0]+(b||j.index)).find(l[1]);c.html(a)},j.close=function(c,f){var n,g=(function(){var a=d("."+l[0]).children("#"+c).closest("."+l[0]);return a[0]?(c=a.attr("times"),a):d("#"+l[0]+c)})(),i=g.attr("type"),k=g.data("config")||{},m=k.id&&k.hideOnClose;g[0]&&(n=function(){var a={slideDown:"layer-anim-slide-down-out",slideLeft:"layer-anim-slide-left-out",slideUp:"layer-anim-slide-up-out",slideRight:"layer-anim-slide-right-out"}[k.anim]||"layer-anim-close",b=function(){var j,k,n,b="layui-layer-wrap";if(m){return g.removeClass("layer-anim "+a),g.hide()}if(i===h.type[1]&&"object"===g.attr("conType")){for(g.children(":not(."+l[5]+")").remove(),j=g.find("."+b),k=0;2>k;k++){j.unwrap()}j.css("display",j.data("display")).removeClass(b)}else{if(i===h.type[2]){try{n=d("#"+l[4]+c)[0],n.contentWindow.document.write(""),n.contentWindow.close(),g.find("."+l[5])[0].removeChild(n)}catch(o){}}g[0].innerHTML="",g.remove()}"function"==typeof h.end[c]&&h.end[c](),delete h.end[c],"function"==typeof f&&f(),h.events.resize[c]&&(e.off("resize",h.events.resize[c]),delete h.events.resize[c])},n=d("#"+l.SHADE+c);j.ie&&j.ie<10||!k.isOutAnim?n[m?"hide":"remove"]():(n.css({opacity:0}),setTimeout((function(){n[m?"hide":"remove"]()}),350)),k.isOutAnim&&g.addClass("layer-anim "+a),6==j.ie&&h.reselect(),h.restScrollbar(c),"string"==typeof g.attr("minLeft")&&(h.minStackIndex--,h.minStackArr.push(g.attr("minLeft"))),j.ie&&j.ie<10||!k.isOutAnim?b():setTimeout((function(){b()}),200)},m||"function"!=typeof h.beforeEnd[c]?(delete h.beforeEnd[c],n()):h.promiseLikeResolve(h.beforeEnd[c]()).then((function(a){!1!==a&&(delete h.beforeEnd[c],n())}),(function(c){c!==b&&a.console&&a.console.error("layer error hint: "+c)})))},j.closeAll=function(a,b){"function"==typeof a&&(b=a,a=null);var c=d("."+l[0]);d.each(c,(function(e){var f=d(this),g=a?f.attr("type")===a:1;g&&j.close(f.attr("times"),e===c.length-1?b:null),g=null})),0===c.length&&"function"==typeof b&&b()},j.closeLast=function(a,b){var f,c=[],e=d.isArray(a);d("string"==typeof a?".layui-layer-"+a:".layui-layer").each((function(b,f){var g=d(f),h=e&&-1===a.indexOf(g.attr("type"))||"none"===g.css("display");return h?!0:(c.push(Number(g.attr("times"))),void 0)})),c.length>0&&(f=Math.max.apply(null,c),j.close(f,b))},o=j.cache||{},p=function(a){return o.skin?" "+o.skin+" "+o.skin+"-"+a:""},j.prompt=function(a,b){var h,i,k,l,m,c="",g="";return a=a||{},h={0:"text",1:"password",2:"textarea"},a.formType in h&&(a.formType=h[a.formType]),"function"==typeof a&&(b=a),a.area&&(i=a.area,c='style="width: '+i[0]+"; height: "+i[1]+';"',delete a.area),a.placeholder&&(g=' placeholder="'+a.placeholder+'"'),l="textarea"==a.formType?'<textarea class="layui-layer-input"'+c+g+"></textarea>":(function(){return'<input type="'+(a.formType||"text")+'" class="layui-layer-input"'+g+">"})(),m=a.success,delete a.success,j.open(d.extend({type:1,btn:[f.$t("layer.confirm"),f.$t("layer.cancel")],content:l,skin:"layui-layer-prompt"+p("prompt"),maxWidth:e.width(),success:function(b){k=b.find(".layui-layer-input"),k.val(a.value||"").focus(),"function"==typeof m&&m(b)},resize:!1,yes:function(c){var d=k.val();d.length>(a.maxlength||500)?j.tips(f.$t("layer.prompt.InputLengthPrompt",{length:a.maxlength||500}),k,{tips:1}):b&&b(d,c,k)}},a))},j.tab=function(a){var b,c,e;return a=a||{},b=a.tab||{},c="layui-this",e=a.success,delete a.success,j.open(d.extend({type:1,skin:"layui-layer-tab"+p("tab"),resize:!1,title:(function(){var a=b.length,d=1,e="";if(a>0){for(e='<span class="'+c+'">'+b[0].title+"</span>";a>d;d++){e+="<span>"+b[d].title+"</span>"}}return e})(),content:'<ul class="layui-layer-tabmain">'+(function(){var a=b.length,d=1,e="";if(a>0){for(e='<li class="layui-layer-tabli '+c+'">'+(b[0].content||"no content")+"</li>";a>d;d++){e+='<li class="layui-layer-tabli">'+(b[d].content||"no  content")+"</li>"}}return e})()+"</ul>",success:function(b){var f=b.find(".layui-layer-title").children(),g=b.find(".layui-layer-tabmain").children();f.on("mousedown",(function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;var e=d(this),f=e.index();e.addClass(c).siblings().removeClass(c),g.eq(f).show().siblings().hide(),"function"==typeof a.change&&a.change(f)})),"function"==typeof e&&e(b)}},a))},j.photos=function(g,h,i){function t(a,b,c){var d=new Image;return d.src=a,d.complete?b(d):(d.onload=function(){d.onload=null,b(d)},d.onerror=function(a){d.onerror=null,c(a)},void 0)}var l,m,n,o,q,r,s,k={};if(g=d.extend(!0,{toolbar:!0,footer:!0},g),g.photos){if(l=!("string"==typeof g.photos||g.photos instanceof d),m=l?g.photos:{},n=m.data||[],o=m.start||0,q=g.success,k.imgIndex=(0|o)+1,g.img=g.img||"img",delete g.success,l){if(0===n.length){return j.msg(f.$t("layer.photos.noData"))}}else if(r=d(g.photos),s=function(){n=[],r.find(g.img).each((function(a){var b=d(this);b.attr("layer-index",a),n.push({alt:b.attr("alt"),pid:b.attr("layer-pid"),src:b.attr("lay-src")||b.attr("layer-src")||b.attr("src"),thumb:b.attr("src")})}))},s(),h||r.on("click",g.img,(function(){s();var a=d(this),b=a.attr("layer-index");j.photos(d.extend(g,{photos:{start:b,data:n,tab:g.tab},full:g.full}),!0)})),!h){return}k.imgprev=function(a){k.imgIndex--,k.imgIndex<1&&(k.imgIndex=n.length),k.tabimg(a)},k.imgnext=function(a,b){k.imgIndex++,k.imgIndex>n.length&&(k.imgIndex=1,b)||k.tabimg(a)},k.keyup=function(a){if(!k.end){var b=a.keyCode;a.preventDefault(),37===b?k.imgprev(!0):39===b?k.imgnext(!0):27===b&&j.close(k.index)}},k.tabimg=function(a){return n.length<=1?void 0:(m.start=k.imgIndex-1,j.close(k.index),j.photos(g,!0,a))},k.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},k.image={},k.getTransform=function(a){var b=[],c=a.rotate,d=a.scaleX,e=a.scale;return k.isNumber(c)&&0!==c&&b.push("rotate("+c+"deg)"),k.isNumber(d)&&1!==d&&b.push("scaleX("+d+")"),k.isNumber(e)&&b.push("scale("+e+")"),b.length?b.join(" "):"none"},k.event=function(b,f,g){var h,i;k.main.find(".layui-layer-photos-prev").on("click",(function(a){a.preventDefault(),k.imgprev(!0)})),k.main.find(".layui-layer-photos-next").on("click",(function(a){a.preventDefault(),k.imgnext(!0)})),d(document).on("keyup",k.keyup),b.off("click").on("click","*[toolbar-event]",(function(){var c,a=d(this),b=a.attr("toolbar-event");switch(b){case"rotate":k.image.rotate=((k.image.rotate||0)+Number(a.attr("data-option")))%360,k.imgElem.css({transform:k.getTransform(k.image)});break;case"scalex":k.image.scaleX=-1===k.image.scaleX?1:-1,k.imgElem.css({transform:k.getTransform(k.image)});break;case"zoom":c=Number(a.attr("data-option")),k.image.scale=(k.image.scale||1)+c,0>c&&k.image.scale<0-c&&(k.image.scale=0-c),k.imgElem.css({transform:k.getTransform(k.image)});break;case"reset":k.image.scaleX=1,k.image.scale=1,k.image.rotate=0,k.imgElem.css({transform:"none"});break;case"close":j.close(f)}g.offset(),g.auto(f)})),k.main.on("mousewheel DOMMouseScroll",(function(a){var b=a.originalEvent.wheelDelta||-a.originalEvent.detail,c=k.main.find('[toolbar-event="zoom"]');b>0?c.eq(0).trigger("click"):c.eq(1).trigger("click"),a.preventDefault()})),(c||a.lay&&"function"==typeof a.lay)&&(h=a.layui.lay||a.lay,i=function(a,b){var c=Date.now()-b.timeStart,d=b.distanceX/c,f=e.width()/3,g=Math.abs(d)>0.25||Math.abs(b.distanceX)>f;g&&("left"===b.direction?k.imgnext(!0):"right"===b.direction&&k.imgprev(!0))},d.each([g.shadeo,k.main],(function(a,b){h.touchSwipe(b,{onTouchEnd:i})})))},k.loadi=j.load(1,{shade:"shade"in g?!1:[0.9,b,"unset"],scrollbar:!1}),t(n[o].src,(function(c){j.close(k.loadi);var e=n[o].alt||"";i&&(g.anim=-1),k.index=j.open(d.extend({type:1,id:"layui-layer-photos",area:(function(){var f,b=[c.width,c.height],e=[d(a).width()-100,d(a).height()-100];return!g.full&&(b[0]>e[0]||b[1]>e[1])&&(f=[b[0]/e[0],b[1]/e[1]],f[0]>f[1]?(b[0]=b[0]/f[0],b[1]=b[1]/f[0]):f[0]<f[1]&&(b[0]=b[0]/f[1],b[1]=b[1]/f[1])),[b[0]+"px",b[1]+"px"]})(),title:!1,shade:[0.9,b,"unset"],shadeClose:!0,closeBtn:!1,move:".layer-layer-photos-main img",moveType:1,scrollbar:!1,moveOut:!0,anim:5,isOutAnim:!1,skin:"layui-layer-photos"+p("photos"),content:'<div class="layer-layer-photos-main"><img src="'+n[o].src+'" alt="'+e+'" layer-pid="'+(n[o].pid||"")+'">'+(function(){var a=['<div class="layui-layer-photos-pointer">'];return n.length>1&&a.push(['<div class="layer-layer-photos-page">','<span class="layui-icon layui-icon-left layui-layer-photos-prev"></span>','<span class="layui-icon layui-icon-right layui-layer-photos-next"></span>',"</div>"].join("")),g.toolbar&&a.push(['<div class="layui-layer-photos-toolbar layui-layer-photos-header">','<span toolbar-event="rotate" data-option="90" title="'+f.$t("layer.photos.tools.rotate")+'"><i class="layui-icon layui-icon-refresh"></i></span>','<span toolbar-event="scalex" title="'+f.$t("layer.photos.tools.scaleX")+'"><i class="layui-icon layui-icon-slider"></i></span>','<span toolbar-event="zoom" data-option="0.1" title="'+f.$t("layer.photos.tools.zoomIn")+'"><i class="layui-icon layui-icon-add-circle"></i></span>','<span toolbar-event="zoom" data-option="-0.1" title="'+f.$t("layer.photos.tools.zoomOut")+'"><i class="layui-icon layui-icon-reduce-circle"></i></span>','<span toolbar-event="reset" title="'+f.$t("layer.photos.tools.reset")+'"><i class="layui-icon layui-icon-refresh-1"></i></span>','<span toolbar-event="close" title="'+f.$t("layer.photos.tools.close")+'"><i class="layui-icon layui-icon-close"></i></span>',"</div>"].join("")),g.footer&&a.push(['<div class="layui-layer-photos-toolbar layui-layer-photos-footer">',"<h3>"+e+"</h3>","<em>"+k.imgIndex+" / "+n.length+"</em>",'<a href="'+n[o].src+'" target="_blank">'+f.$t("layer.photos.viewPicture")+"</a>","</div>"].join("")),a.push("</div>"),a.join("")})()+"</div>",success:function(a,b,c){k.main=a.find(".layer-layer-photos-main"),k.footer=a.find(".layui-layer-photos-footer"),k.imgElem=k.main.children("img"),k.event(a,b,c),g.tab&&g.tab(n[o],a),"function"==typeof q&&q(a)},end:function(){k.end=!0,d(document).off("keyup",k.keyup)}},g))}),(function(){j.close(k.loadi),j.msg('<span style="white-space: pre-line;">'+f.$t("layer.photos.urlError.prompt")+"</span>",{time:3e4,btn:[f.$t("layer.photos.urlError.confirm"),f.$t("layer.photos.urlError.cancel")],yes:function(){n.length>1&&k.imgnext(!0,!0)}})}))}},h.run=function(b){var c,f,g;d=b,e=d(a),c=navigator.userAgent.toLowerCase(),f=/android|iphone|ipod|ipad|ios/.test(c),g=d(a),f&&d.each({Height:"height",Width:"width"},(function(b,c){var d="inner"+b;e[c]=function(){return d in a?a[d]:g[c]()}})),l.html=d("html"),j.open=function(a){var b=new k(a);return b.index}},a.layui&&layui.define?(j.ready(),layui.define(["jquery","lay","i18n"],(function(b){f.$t=layui.i18n.$t,j.path=layui.cache.dir,h.run(layui.$),a.layer=j,b("layer",j)}))):"function"==typeof define&&define.amd?define(["jquery"],(function(){return h.run(a.jQuery),j})):(function(){j.ready(),h.run(a.jQuery)})()})(window);$(`script[type="text/html"][onload]`).each((function(){const text=$(this).html();$(this).replaceWith(`<script type="text/javascript">${text}<\/script>`)}));