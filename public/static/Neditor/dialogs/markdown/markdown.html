<!DOCTYPE html><html><head><title>导入Markdown</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="robots" content="noindex, nofollow" /><link rel="stylesheet" href="/public/ui/admin/static/editor.css"><style type="text/css">*{ margin: 0; padding: 0; position: relative; box-sizing: border-box;} html, body{ background: none;} div{ display: flex; justify-content: space-between; background: #FFFFFF;} textarea{ width: 50%; height: calc(100vh - 50px); padding: 15px; border: 1px #e4e7ed solid; background: #FFFFFF;font-family: inherit; outline: none; resize: none} section{ width: 50%; height: calc(100vh - 50px); padding: 15px; border: 1px #e4e7ed solid; border-left: 0; overflow-y: auto;} button{ width: 100%; height: 30px; margin-top: 10px; line-height: 30px; color: #FFFFFF; background: #409eff; border: none; outline: none; cursor: pointer;} </style></head><body><form id="form"><div><textarea id="textarea" required placeholder="请输入Markdown内容"></textarea><section class="lcms-editor" id="section"></section></div><button type="submit">导入内容</button></form><script type="text/javascript" src="/public/static/plugin/marked.min.js"></script><script type="text/javascript">let mark2html=function (content){ let html=""; if (content && "undefined" !=typeof marked){ html=marked.parse(content,{breaks: true, mangle: false, headerIds: false}); html=html.replace(/<pre><code/gi, "<pre").replace(/<\/code><\/pre>/gi, "</pre>");} return html ? html : "";}, timer, html="", textarea=document.getElementById("textarea"), section=document.getElementById("section"); textarea.oninput=function (){ if (!timer){ timer=setTimeout(()=>{ timer=null; html=mark2html(textarea.value); section.innerHTML=html;}, 300);}}; document.getElementById("form").onsubmit=function (e){ e.preventDefault(); parent.LCMSEDITORNOW.execCommand("inserthtml", html); parent.layer.close(parent.layer.getFrameIndex(window.name));} </script></body></html>