<template "ui/head" />
<template "ui/css" />
<style type="text/css">#LCONTENT{min-height:calc(100vh - 200px)}#APPIFRAME{padding-left:0!important}#APPNAV{display:none}</style>
<div class="update-gitee">
    <div class="update-gitee-item">
        <template tplx="update_index">
            <div class="update-gitee-version">
                <div class="tplx-loading" style="height:117px" x-show="loading"></div>
                <div x-show="!loading">
                    <p>
                        当前版本：<text x-text="`V${sysdata.version}`"></text>
                        <i style="font-size:12px;color:#F56C6C" x-show="sysdata.ref=='beta'">（点击更新设置可切换正式版）</i>
                    </p>
                    <p>最新版本：<text x-text="lastdata.version"></text></p>
                    <a class="layui-btn layui-btn-warm layui-btn-sm" href="https://gitee.com/luckymoke/LCMS.OPEN/releases" target="_blank">历史日志</a>
                    <button class="layui-btn layui-btn-sm" x-show="lastdata.logs.length>0" @click="startUpdate">立即更新</button>
                </div>
            </div>
            <div class="update-gitee-logs">
                <div class="tplx-loading" style="height:100%" x-show="loading"></div>
                <div class="tplx-loading-own" style="height:100%" x-show="noupdate" x-text="noupdate"></div>
                <ul class="layui-timeline" x-show="!loading">
                    <block x-for="item in lastdata.logs" :key="item.sha">
                        <li class="layui-timeline-item">
                            <i class="layui-icon layui-timeline-axis layui-icon-radio"></i>
                            <div class="layui-timeline-content layui-text">
                                <h3 class="layui-timeline-title" x-html="`V${item.title}<span>${item.date}</span>`"></h3>
                                <p x-html="item.message"></p>
                            </div>
                        </li>
                    </block>
                </ul>
            </div>
        </template>
    </div>
    <div class="update-gitee-item">
        <div class="update-terminal">
            <template "ui/terminal" />
        </div>
    </div>
</div>
<template "ui/foot" />